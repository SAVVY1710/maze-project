/*
First time? Check out the tutorial game:
https://sprig.hackclub.com/gallery/getting_started

@title: Maze
@author: 
@tags: []
@addedOn: 2024-00-00
*/

const player = "p"
const black = "b"
const white = "w"
const s = "s"

setLegend(
  [player, bitmap`
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555`],
  [black, bitmap`
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000`],
  [white, bitmap`
2222222222222222
2222222222222222
2222222222222222
2222222222222222
2222222222222222
2222222222222222
2222222222222222
2222222222222222
2222222222222222
2222222222222222
2222222222222222
2222222222222222
2222222222222222
2222222222222222
2222222222222222
2222222222222222`],
  [s, bitmap`
................
..000000000000..
..0.............
..0.............
..0.............
..0.............
..0.............
..000000000000..
.............0..
.............0..
.............0..
.............0..
.............0..
.............0..
..000000000000..
................`],
)

setSolids([])

let level = 0
const levels = [
  map`
p.
..`
]

setMap(levels[level])

setPushables({
  [ player ]: []
})

onInput("s", () => {
  getFirst(player).y += 1
})
onInput("w", () => {
  getFirst(player).y -= 1
})

onInput("a", () => {
  getFirst(player).x -= 1
})

onInput("d", () => {
  getFirst(player).x += 1
})

onInput("i", () => {
  if(startmap == 2)
  {
    leveltoplay = 5
  }
  if(startmap == 1)
  {
     leveltoplay = 4
  }
  if(startmap == 0)
  {
    leveltoplay = 3
  }
  if (leveltoplay !== undefined) {
    clearText("");
    setMap(levels[leveltoplay])
  }
  
})

onInput("l", () => {
  startmap++
  if(startmap == 3)
  {
    startmap = 0
  }
  setMap(levels[startmap])
  
})

afterInput(() => {
  
})